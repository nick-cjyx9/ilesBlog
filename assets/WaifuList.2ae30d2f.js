import{d as h,r as i,o as e,b as c,i as a,t as d,g as _,f,j as m,F as v,n as w,k as p}from"./vendor-vue.746631c3.js";const g={class:"flex flex-col flex-wrap space-y-1 h-full p-4"},x={role:"button",class:"avatar w-full flex justify-center mb-1 mt-2"},y=["src","alt"],k={class:"w-full text-center text-2xl font-medium"},$=["href"],b={class:"w-full text-center leading-5 font-thin",style:{"font-size":"16px"}},N={key:0},L={key:1},S=h({__name:"WaifuCard",props:["waifu_data"],setup(o){const s=o,r=i(s.waifu_data.characterSummary.length>45),t=i(s.waifu_data.characterSummary.length==0),u=i("https://bgm.tv/character/"+s.waifu_data.characterId);return(l,n)=>(e(),c("div",g,[a("div",x,[a("img",{src:o.waifu_data.characterAvatar,class:"w-fit h-fit rounded-full shadow p-1 hover:shadow-md",alt:o.waifu_data.characterName},null,8,y)]),a("div",k,[a("a",{href:u.value,target:"_blank"},d(o.waifu_data.characterName),9,$)]),a("div",b,[a("span",null,[_(d(o.waifu_data.characterSummary.slice(0,45))+" ",1),t.value?(e(),c("span",N,"没有介绍哦~")):f("v-if",!0),r.value?(e(),c("span",L,"...")):f("v-if",!0)])])]))}}),T={key:0},j=a("br",null,null,-1),B={key:0,class:"inline"},C=a("a",{onclick:"location.reload();",href:"javascript:void(0)"},"重试",-1),V={key:1,class:"grid-cols-2 md:grid-cols-4 grid w-full h-full"},E=h({__name:"WaifuList",setup(o){const s=i([]),r=i(null);return m(async()=>{try{const t=await fetch("/cross/waifu_data.json");if(!t.ok)throw r.value=`HTTP 请求错误：${t.status}`,new Error(`HTTP 请求错误：${t.status}`);let l=(await t.text()).split(`
`);for(let n=0;n<l.length;n++)s.value[n]=JSON.parse(l[n])}catch(t){console.log(t)}}),(t,u)=>{const l=S;return s.value.length==0?(e(),c("div",T,[_("Loading... "),j,r.value!==null?(e(),c("p",B,[_(d(r.value)+" ",1),C])):f("v-if",!0)])):(e(),c("div",V,[(e(!0),c(v,null,w(s.value,n=>(e(),p(l,{waifu_data:n},null,8,["waifu_data"]))),256))]))}}});export{E as _};
