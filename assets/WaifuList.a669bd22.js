import{d as h,r as i,o as e,b as l,i as a,t as u,g as _,f,j as m,F as v,p as w,l as p}from"./vendor-vue.5ade2c26.js";const g={class:"flex flex-col flex-wrap space-y-1 h-full p-4"},x={role:"button",class:"avatar w-full flex justify-center mb-1 mt-2"},y=["src","alt"],k={class:"w-full text-center text-2xl font-medium"},$=["href"],b={class:"w-full text-center leading-5 font-thin",style:{"font-size":"16px"}},N={key:0},L={key:1},S=h({__name:"WaifuCard",props:["waifu_data"],setup(n){const s=n,o=i(s.waifu_data.characterSummary.length>45),t=i(s.waifu_data.characterSummary.length==0),d=i("https://bgm.tv/character/"+s.waifu_data.characterId);return(r,c)=>(e(),l("div",g,[a("div",x,[a("img",{src:n.waifu_data.characterAvatar,class:"w-20 rounded-full shadow p-1 hover:shadow-md",alt:n.waifu_data.characterName},null,8,y)]),a("div",k,[a("a",{href:d.value,target:"_blank"},u(n.waifu_data.characterName),9,$)]),a("div",b,[a("span",null,[_(u(n.waifu_data.characterSummary.slice(0,45))+" ",1),t.value?(e(),l("span",N,"没有介绍哦~")):f("v-if",!0),o.value?(e(),l("span",L,"...")):f("v-if",!0)])])]))}}),T={key:0},j=a("br",null,null,-1),B={key:0,class:"inline"},C=a("a",{onclick:"location.reload();",href:"javascript:void(0)"},"重试",-1),V={key:1,class:"lg:grid-cols-5 sm:grid-cols-2 md:grid-cols-3 grid w-full h-full"},E=h({__name:"WaifuList",setup(n){const s=i([]),o=i(null);return m(async()=>{try{const t=await fetch("/waifu_data.json");if(!t.ok)throw o.value=`HTTP 请求错误：${t.status}`,new Error(`HTTP 请求错误：${t.status}`);let r=(await t.text()).split(`
`);for(let c=0;c<r.length;c++)s.value[c]=JSON.parse(r[c])}catch(t){console.log(t)}}),(t,d)=>{const r=S;return s.value.length==0?(e(),l("div",T,[_("Loading... "),j,o.value!==null?(e(),l("p",B,[_(u(o.value)+" ",1),C])):f("v-if",!0)])):(e(),l("div",V,[(e(!0),l(v,null,w(s.value,c=>(e(),p(r,{waifu_data:c},null,8,["waifu_data"]))),256))]))}}});export{E as _};
