import{d as h,r as i,o as s,b as n,i as a,t as _,g as d,f,j as m,F as p,q as v,l as w}from"./vendor-vue.55f3e039.js";import{a as y}from"./vite.bb3ebe06.js";const g={class:"flex flex-col flex-wrap space-y-1 h-full p-4"},x={role:"button",class:"avatar w-full flex justify-center mb-1 mt-2"},k={class:"lazy-image-wrapper p-1 justify-center flex"},D=["src","alt"],$={class:"w-full text-center text-2xl font-medium"},b=["href"],N={class:"w-full text-center leading-5 font-thin",style:{"font-size":"16px"}},j={key:0},C={key:1},L=h({__name:"WaifuCard",props:["waifuData"],setup(o){const c=o,r=i(c.waifuData.characterSummary.length>45),t=i(c.waifuData.characterSummary.length===0),u=i(`https://bgm.tv/character/${c.waifuData.characterId}`);return(l,e)=>(s(),n("div",g,[a("div",x,[a("div",k,[a("img",{src:o.waifuData.characterAvatar,class:"shadow rounded-full lazy-image",alt:o.waifuData.characterName},null,8,D)])]),a("div",$,[a("a",{href:u.value,target:"_blank"},_(o.waifuData.characterName),9,b)]),a("div",N,[a("span",null,[d(_(o.waifuData.characterSummary.slice(0,45))+" ",1),t.value?(s(),n("span",j,"没有介绍哦~")):f("v-if",!0),r.value?(s(),n("span",C,"...")):f("v-if",!0)])])]))}});const S=y(L,[["__scopeId","data-v-9d53a13e"]]),T={key:0},B=a("br",null,null,-1),W={key:0,class:"inline"},z=a("a",{onclick:"location.reload();",href:"javascript:void(0)"},"重试",-1),I={key:1,class:"grid-cols-2 md:grid-cols-4 grid w-full h-full"},F=h({__name:"WaifuList",setup(o){const c=i([]),r=i(null);return m(async()=>{try{const t=await fetch("/cross/waifu_data.json");if(!t.ok)throw r.value=`HTTP 请求错误：${t.status}`,new Error(`HTTP 请求错误：${t.status}`);const l=(await t.text()).split(`
`);for(let e=0;e<l.length;e++)c.value[e]=JSON.parse(l[e])}catch(t){console.error(t)}}),(t,u)=>{const l=S;return c.value.length===0?(s(),n("div",T,[d(" Loading... "),B,r.value!==null?(s(),n("p",W,[d(_(r.value)+" ",1),z])):f("v-if",!0)])):(s(),n("div",I,[(s(!0),n(p,null,v(c.value,e=>(s(),w(l,{key:e.characterId,waifu_data:e},null,8,["waifu_data"]))),128))]))}}});export{F as _};
