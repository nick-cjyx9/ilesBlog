import{d as _,p as x,w as b,v as k,u as T,o as a,b as i,i as f,q as y,r as m,j as B,e as w,s as C,F as g,n as S,x as h,t as $,y as E,g as V,z as I,k as N,f as z}from"./vendor-vue.d401e271.js";import{a as L}from"./vite.1299367e.js";const M=f("i",{class:"text-center font-thin w-full fa-menu"},null,-1),q=[M],D=_({__name:"TocSwitcher",props:{showToc:{type:Boolean}},emits:["update:showToc"],setup(o,{emit:t}){const r=x(o,"showToc",t);function d(){r.value=!0,console.log(r.value)}return(s,l)=>b((a(),i("div",{class:"fixed z-50 bottom-24 right-9 !w-12 h-12 shadow-md rounded-full card flex items-center",onClick:d,role:"button"},q,512)),[[k,!T(r)]])}}),F={},H={class:"w-full text-3xl lg:text-4xl font-semibold m-3 mb-4 before:w-full before:border-x-2 before:mr-2 headTitle"};function j(o,t){return a(),i("span",H,[y(o.$slots,"default")])}const O=L(F,[["render",j]]),P={class:"table-of-contents card py-5 pl-5 rounded-lg h-fit max-h-[450px] text-[14px] overflow-auto space-y-1"},U=f("span",{class:"w-full mr-72"},null,-1),Y={class:"w-full"},A=["id"],G=["href","onClick"],J=_({__name:"TocInner",props:["nodes"],emits:["close"],setup(o,{emit:t}){const u=o;function r(l){const n=document.getElementById(l.slug);n&&n.scrollIntoView({behavior:"smooth"})}function d(){t("close")}const s=m(null);return B(()=>{const l=()=>{const n=window.scrollY||document.documentElement.scrollTop;if(u.nodes)for(const c of u.nodes){const e=document.getElementById(c.slug);if(e){const p=e.offsetTop,v=p+e.offsetHeight;if(n>=p&&n<v){s.value=c.slug;break}}}};window.addEventListener("scroll",l)}),(l,n)=>{const c=O;return a(),i("ul",P,[U,f("span",{onClick:d,role:"button",class:"top-5 right-2 absolute hint float-right mr-2 mt-0.5"},"关闭目录"),f("li",Y,[w(c,{class:"!text-base !ml-1.5 w-fit"},{default:C(()=>[V("目录")]),_:1})]),(a(!0),i(g,null,S(o.nodes,e=>(a(),i("li",{key:e.slug,class:"w-full",id:"toc-"+e.slug,style:h({marginLeft:(e.level-1.5)*17+"px"})},[f("a",{style:h({color:s.value===e.slug?"#1f6dda":"inherit"}),href:"#"+e.slug,onClick:E(p=>r(e),["prevent"])},$(e.title),13,G)],12,A))),128))])}}}),R=_({__name:"tableofContent",props:["nodes"],setup(o){const t=m(!0),u=m(!1);return I({tablet:640,laptop:1024,desktop:1280}).isSmallerOrEqual("laptop")&&(t.value=!1,u.value=!0),(d,s)=>{const l=J,n=D;return a(),i(g,null,[t.value?(a(),N(l,{key:0,nodes:o.nodes,onClose:s[0]||(s[0]=c=>{t.value=!1})},null,8,["nodes"])):z("v-if",!0),w(n,{"show-toc":t.value,"onUpdate:showToc":s[1]||(s[1]=c=>t.value=c)},null,8,["show-toc"])],64)}}});export{R as _};
