import{d as h,r as i,o as e,b as c,i as a,t as u,g as d,f,j as m,F as p,n as v,k as w}from"./vendor-vue.5e408107.js";import{a as g}from"./vite.1299367e.js";const y={class:"flex flex-col flex-wrap space-y-1 h-full p-4"},x={role:"button",class:"avatar w-full flex justify-center mb-1 mt-2"},k={class:"lazy-image-wrapper p-1 justify-center flex"},$=["src","alt"],b={class:"w-full text-center text-2xl font-medium"},N=["href"],j={class:"w-full text-center leading-5 font-thin",style:{"font-size":"16px"}},C={key:0},L={key:1},S=h({__name:"WaifuCard",props:["waifu_data"],setup(o){const s=o,l=i(s.waifu_data.characterSummary.length>45),t=i(s.waifu_data.characterSummary.length==0),_=i("https://bgm.tv/character/"+s.waifu_data.characterId);return(r,n)=>(e(),c("div",y,[a("div",x,[a("div",k,[a("img",{src:o.waifu_data.characterAvatar,class:"shadow rounded-full lazy-image",alt:o.waifu_data.characterName},null,8,$)])]),a("div",b,[a("a",{href:_.value,target:"_blank"},u(o.waifu_data.characterName),9,N)]),a("div",j,[a("span",null,[d(u(o.waifu_data.characterSummary.slice(0,45))+" ",1),t.value?(e(),c("span",C,"没有介绍哦~")):f("v-if",!0),l.value?(e(),c("span",L,"...")):f("v-if",!0)])])]))}});const T=g(S,[["__scopeId","data-v-08583114"]]),B={key:0},W=a("br",null,null,-1),z={key:0,class:"inline"},V=a("a",{onclick:"location.reload();",href:"javascript:void(0)"},"重试",-1),E={key:1,class:"grid-cols-2 md:grid-cols-4 grid w-full h-full"},I=h({__name:"WaifuList",setup(o){const s=i([]),l=i(null);return m(async()=>{try{const t=await fetch("/cross/waifu_data.json");if(!t.ok)throw l.value=`HTTP 请求错误：${t.status}`,new Error(`HTTP 请求错误：${t.status}`);let r=(await t.text()).split(`
`);for(let n=0;n<r.length;n++)s.value[n]=JSON.parse(r[n])}catch(t){console.log(t)}}),(t,_)=>{const r=T;return s.value.length==0?(e(),c("div",B,[d("Loading... "),W,l.value!==null?(e(),c("p",z,[d(u(l.value)+" ",1),V])):f("v-if",!0)])):(e(),c("div",E,[(e(!0),c(p,null,v(s.value,n=>(e(),w(r,{waifu_data:n},null,8,["waifu_data"]))),256))]))}}});export{I as _};
