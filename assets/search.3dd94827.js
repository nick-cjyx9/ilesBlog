var xt,ht;xt=globalThis,ht=function(){function D(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function B(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?D(Object(e),!0).forEach(function(r){rt(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):D(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function nt(n){return nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(n)}function S(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,C(r.key),r)}}function _(n,t,e){return t&&ot(n.prototype,t),e&&ot(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function rt(n,t,e){return(t=C(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function I(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&H(n,t)}function T(n){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(n)}function H(n,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},H(n,t)}function q(n,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)}function w(n){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var e,r=T(n);if(t){var i=T(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return q(this,e)}}function A(n){return function(t){if(Array.isArray(t))return J(t)}(n)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(n)||function(t,e){if(t){if(typeof t=="string")return J(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(t,e):void 0}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function J(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function C(n){var t=function(e,r){if(typeof e!="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var o=i.call(e,r||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}(n,"string");return typeof t=="symbol"?t:String(t)}function R(n){return Array.isArray?Array.isArray(n):St(n)==="[object Array]"}var Jt=1/0;function Kt(n){return n==null?"":function(t){if(typeof t=="string")return t;var e=t+"";return e=="0"&&1/t==-Jt?"-0":e}(n)}function E(n){return typeof n=="string"}function Lt(n){return typeof n=="number"}function Ut(n){return n===!0||n===!1||function(t){return wt(t)&&t!==null}(n)&&St(n)=="[object Boolean]"}function wt(n){return nt(n)==="object"}function j(n){return n!=null}function lt(n){return!n.trim().length}function St(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}var Vt=function(n){return"Missing ".concat(n," property in key")},zt=function(n){return"Property 'weight' in key '".concat(n,"' must be a positive integer")},_t=Object.prototype.hasOwnProperty,Gt=function(){function n(t){var e=this;S(this,n),this._keys=[],this._keyMap={};var r=0;t.forEach(function(i){var o=Ot(i);e._keys.push(o),e._keyMap[o.id]=o,r+=o.weight}),this._keys.forEach(function(i){i.weight/=r})}return _(n,[{key:"get",value:function(t){return this._keyMap[t]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),n}();function Ot(n){var t=null,e=null,r=null,i=1,o=null;if(E(n)||R(n))r=n,t=jt(n),e=ft(n);else{if(!_t.call(n,"name"))throw new Error(Vt("name"));var s=n.name;if(r=s,_t.call(n,"weight")&&(i=n.weight)<=0)throw new Error(zt(s));t=jt(s),e=ft(s),o=n.getFn}return{path:t,id:e,weight:i,src:r,getFn:o}}function jt(n){return R(n)?n:n.split(".")}function ft(n){return R(n)?n.join("."):n}var Qt={useExtendedSearch:!1,getFn:function(n,t){var e=[],r=!1;return function i(o,s,c){if(j(o))if(s[c]){var a=o[s[c]];if(!j(a))return;if(c===s.length-1&&(E(a)||Lt(a)||Ut(a)))e.push(Kt(a));else if(R(a)){r=!0;for(var h=0,l=a.length;h<l;h+=1)i(a[h],s,c+1)}else s.length&&i(a,s,c+1)}else e.push(o)}(n,E(t)?t.split("."):t,0),r?e:e[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},f=B(B(B(B({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(n,t){return n.score===t.score?n.idx<t.idx?-1:1:n.score<t.score?-1:1}}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),Qt),Xt=/[^ ]+/g,dt=function(){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getFn,r=e===void 0?f.getFn:e,i=t.fieldNormWeight,o=i===void 0?f.fieldNormWeight:i;S(this,n),this.norm=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,a=new Map,h=Math.pow(10,c);return{get:function(l){var d=l.match(Xt).length;if(a.has(d))return a.get(d);var u=1/Math.pow(d,.5*s),g=parseFloat(Math.round(u*h)/h);return a.set(d,g),g},clear:function(){a.clear()}}}(o,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}return _(n,[{key:"setSources",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.docs=t}},{key:"setIndexRecords",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.records=t}},{key:"setKeys",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.keys=e,this._keysMap={},e.forEach(function(r,i){t._keysMap[r.id]=i})}},{key:"create",value:function(){var t=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,E(this.docs[0])?this.docs.forEach(function(e,r){t._addString(e,r)}):this.docs.forEach(function(e,r){t._addObject(e,r)}),this.norm.clear())}},{key:"add",value:function(t){var e=this.size();E(t)?this._addString(t,e):this._addObject(t,e)}},{key:"removeAt",value:function(t){this.records.splice(t,1);for(var e=t,r=this.size();e<r;e+=1)this.records[e].i-=1}},{key:"getValueForItemAtKeyId",value:function(t,e){return t[this._keysMap[e]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(t,e){if(j(t)&&!lt(t)){var r={v:t,i:e,n:this.norm.get(t)};this.records.push(r)}}},{key:"_addObject",value:function(t,e){var r=this,i={i:e,$:{}};this.keys.forEach(function(o,s){var c=o.getFn?o.getFn(t):r.getFn(t,o.path);if(j(c)){if(R(c)){for(var a=[],h=[{nestedArrIndex:-1,value:c}];h.length;){var l=h.pop(),d=l.nestedArrIndex,u=l.value;if(j(u))if(E(u)&&!lt(u)){var g={v:u,i:d,n:r.norm.get(u)};a.push(g)}else R(u)&&u.forEach(function(m,p){h.push({nestedArrIndex:p,value:m})})}i.$[s]=a}else if(E(c)&&!lt(c)){var v={v:c,n:r.norm.get(c)};i.$[s]=v}}}),this.records.push(i)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),n}();function $t(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.getFn,i=r===void 0?f.getFn:r,o=e.fieldNormWeight,s=o===void 0?f.fieldNormWeight:o,c=new dt({getFn:i,fieldNormWeight:s});return c.setKeys(n.map(Ot)),c.setSources(t),c.create(),c}function st(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.errors,r=e===void 0?0:e,i=t.currentLocation,o=i===void 0?0:i,s=t.expectedLocation,c=s===void 0?0:s,a=t.distance,h=a===void 0?f.distance:a,l=t.ignoreLocation,d=l===void 0?f.ignoreLocation:l,u=r/n.length;if(d)return u;var g=Math.abs(c-o);return h?u+g/h:g?1:u}var Q=32;function Yt(n,t,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=r.location,o=i===void 0?f.location:i,s=r.distance,c=s===void 0?f.distance:s,a=r.threshold,h=a===void 0?f.threshold:a,l=r.findAllMatches,d=l===void 0?f.findAllMatches:l,u=r.minMatchCharLength,g=u===void 0?f.minMatchCharLength:u,v=r.includeMatches,m=v===void 0?f.includeMatches:v,p=r.ignoreLocation,M=p===void 0?f.ignoreLocation:p;if(t.length>Q)throw new Error("Pattern length exceeds max of ".concat(Q,"."));for(var k,b=t.length,x=n.length,y=Math.max(0,Math.min(o,x)),L=h,O=y,$=g>1||m,U=$?Array(x):[];(k=n.indexOf(t,O))>-1;){var X=st(t,{currentLocation:k,expectedLocation:y,distance:c,ignoreLocation:M});if(L=Math.min(X,L),O=k+b,$)for(var W=0;W<b;)U[k+W]=1,W+=1}O=-1;for(var F=[],tt=1,Y=b+x,ct=1<<b-1,N=0;N<b;N+=1){for(var Z=0,V=Y;Z<V;)st(t,{errors:N,currentLocation:y+V,expectedLocation:y,distance:c,ignoreLocation:M})<=L?Z=V:Y=V,V=Math.floor((Y-Z)/2+Z);Y=V;var Rt=Math.max(1,y-V+1),mt=d?x:Math.min(y+V,x)+b,et=Array(mt+2);et[mt+1]=(1<<N)-1;for(var P=mt;P>=Rt;P-=1){var ut=P-1,Wt=e[n.charAt(ut)];if($&&(U[ut]=+!!Wt),et[P]=(et[P+1]<<1|1)&Wt,N&&(et[P]|=(F[P+1]|F[P])<<1|1|F[P+1]),et[P]&ct&&(tt=st(t,{errors:N,currentLocation:ut,expectedLocation:y,distance:c,ignoreLocation:M}))<=L){if(L=tt,(O=ut)<=y)break;Rt=Math.max(1,2*y-O)}}if(st(t,{errors:N+1,currentLocation:y,expectedLocation:y,distance:c,ignoreLocation:M})>L)break;F=et}var kt={isMatch:O>=0,score:Math.max(.001,tt)};if($){var Bt=function(){for(var Mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.minMatchCharLength,bt=[],z=-1,Ht=-1,G=0,de=Mt.length;G<de;G+=1){var qt=Mt[G];qt&&z===-1?z=G:qt||z===-1||((Ht=G-1)-z+1>=Tt&&bt.push([z,Ht]),z=-1)}return Mt[G-1]&&G-z>=Tt&&bt.push([z,G-1]),bt}(U,g);Bt.length?m&&(kt.indices=Bt):kt.isMatch=!1}return kt}function Zt(n){for(var t={},e=0,r=n.length;e<r;e+=1){var i=n.charAt(e);t[i]=(t[i]||0)|1<<r-e-1}return t}var Ct=function(){function n(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.location,o=i===void 0?f.location:i,s=r.threshold,c=s===void 0?f.threshold:s,a=r.distance,h=a===void 0?f.distance:a,l=r.includeMatches,d=l===void 0?f.includeMatches:l,u=r.findAllMatches,g=u===void 0?f.findAllMatches:u,v=r.minMatchCharLength,m=v===void 0?f.minMatchCharLength:v,p=r.isCaseSensitive,M=p===void 0?f.isCaseSensitive:p,k=r.ignoreLocation,b=k===void 0?f.ignoreLocation:k;if(S(this,n),this.options={location:o,threshold:c,distance:h,includeMatches:d,findAllMatches:g,minMatchCharLength:m,isCaseSensitive:M,ignoreLocation:b},this.pattern=M?t:t.toLowerCase(),this.chunks=[],this.pattern.length){var x=function(X,W){e.chunks.push({pattern:X,alphabet:Zt(X),startIndex:W})},y=this.pattern.length;if(y>Q){for(var L=0,O=y%Q,$=y-O;L<$;)x(this.pattern.substr(L,Q),L),L+=Q;if(O){var U=y-Q;x(this.pattern.substr(U),U)}}else x(this.pattern,0)}}return _(n,[{key:"searchIn",value:function(t){var e=this.options,r=e.isCaseSensitive,i=e.includeMatches;if(r||(t=t.toLowerCase()),this.pattern===t){var o={isMatch:!0,score:0};return i&&(o.indices=[[0,t.length-1]]),o}var s=this.options,c=s.location,a=s.distance,h=s.threshold,l=s.findAllMatches,d=s.minMatchCharLength,u=s.ignoreLocation,g=[],v=0,m=!1;this.chunks.forEach(function(M){var k=M.pattern,b=M.alphabet,x=M.startIndex,y=Yt(t,k,b,{location:c+x,distance:a,threshold:h,findAllMatches:l,minMatchCharLength:d,includeMatches:i,ignoreLocation:u}),L=y.isMatch,O=y.score,$=y.indices;L&&(m=!0),v+=O,L&&$&&(g=[].concat(A(g),A($)))});var p={isMatch:m,score:m?v/this.chunks.length:1};return m&&i&&(p.indices=g),p}}]),n}(),K=function(){function n(t){S(this,n),this.pattern=t}return _(n,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(t){return It(t,this.multiRegex)}},{key:"isSingleMatch",value:function(t){return It(t,this.singleRegex)}}]),n}();function It(n,t){var e=n.match(t);return e?e[1]:null}var Dt=function(n){I(e,n);var t=w(e);function e(r){return S(this,e),t.call(this,r)}return _(e,[{key:"search",value:function(r){var i=r===this.pattern;return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),e}(K),te=function(n){I(e,n);var t=w(e);function e(r){return S(this,e),t.call(this,r)}return _(e,[{key:"search",value:function(r){var i=r.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,r.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),e}(K),ee=function(n){I(e,n);var t=w(e);function e(r){return S(this,e),t.call(this,r)}return _(e,[{key:"search",value:function(r){var i=r.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),e}(K),ne=function(n){I(e,n);var t=w(e);function e(r){return S(this,e),t.call(this,r)}return _(e,[{key:"search",value:function(r){var i=!r.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,r.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),e}(K),re=function(n){I(e,n);var t=w(e);function e(r){return S(this,e),t.call(this,r)}return _(e,[{key:"search",value:function(r){var i=r.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[r.length-this.pattern.length,r.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),e}(K),ie=function(n){I(e,n);var t=w(e);function e(r){return S(this,e),t.call(this,r)}return _(e,[{key:"search",value:function(r){var i=!r.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,r.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),e}(K),At=function(n){I(e,n);var t=w(e);function e(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.location,c=s===void 0?f.location:s,a=o.threshold,h=a===void 0?f.threshold:a,l=o.distance,d=l===void 0?f.distance:l,u=o.includeMatches,g=u===void 0?f.includeMatches:u,v=o.findAllMatches,m=v===void 0?f.findAllMatches:v,p=o.minMatchCharLength,M=p===void 0?f.minMatchCharLength:p,k=o.isCaseSensitive,b=k===void 0?f.isCaseSensitive:k,x=o.ignoreLocation,y=x===void 0?f.ignoreLocation:x;return S(this,e),(i=t.call(this,r))._bitapSearch=new Ct(r,{location:c,threshold:h,distance:d,includeMatches:g,findAllMatches:m,minMatchCharLength:M,isCaseSensitive:b,ignoreLocation:y}),i}return _(e,[{key:"search",value:function(r){return this._bitapSearch.searchIn(r)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),e}(K),Et=function(n){I(e,n);var t=w(e);function e(r){return S(this,e),t.call(this,r)}return _(e,[{key:"search",value:function(r){for(var i,o=0,s=[],c=this.pattern.length;(i=r.indexOf(this.pattern,o))>-1;)o=i+c,s.push([i,o-1]);var a=!!s.length;return{isMatch:a,score:a?0:1,indices:s}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),e}(K),gt=[Dt,Et,ee,ne,ie,re,te,At],Ft=gt.length,oe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,se=new Set([At.type,Et.type]),ae=function(){function n(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.isCaseSensitive,i=r===void 0?f.isCaseSensitive:r,o=e.includeMatches,s=o===void 0?f.includeMatches:o,c=e.minMatchCharLength,a=c===void 0?f.minMatchCharLength:c,h=e.ignoreLocation,l=h===void 0?f.ignoreLocation:h,d=e.findAllMatches,u=d===void 0?f.findAllMatches:d,g=e.location,v=g===void 0?f.location:g,m=e.threshold,p=m===void 0?f.threshold:m,M=e.distance,k=M===void 0?f.distance:M;S(this,n),this.query=null,this.options={isCaseSensitive:i,includeMatches:s,minMatchCharLength:a,findAllMatches:u,ignoreLocation:l,location:v,threshold:p,distance:k},this.pattern=i?t:t.toLowerCase(),this.query=function(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return b.split("|").map(function(y){for(var L=y.trim().split(oe).filter(function(Z){return Z&&!!Z.trim()}),O=[],$=0,U=L.length;$<U;$+=1){for(var X=L[$],W=!1,F=-1;!W&&++F<Ft;){var tt=gt[F],Y=tt.isMultiMatch(X);Y&&(O.push(new tt(Y,x)),W=!0)}if(!W)for(F=-1;++F<Ft;){var ct=gt[F],N=ct.isSingleMatch(X);if(N){O.push(new ct(N,x));break}}}return O})}(this.pattern,this.options)}return _(n,[{key:"searchIn",value:function(t){var e=this.query;if(!e)return{isMatch:!1,score:1};var r=this.options,i=r.includeMatches;t=r.isCaseSensitive?t:t.toLowerCase();for(var o=0,s=[],c=0,a=0,h=e.length;a<h;a+=1){var l=e[a];s.length=0,o=0;for(var d=0,u=l.length;d<u;d+=1){var g=l[d],v=g.search(t),m=v.isMatch,p=v.indices,M=v.score;if(!m){c=0,o=0,s.length=0;break}if(o+=1,c+=M,i){var k=g.constructor.type;se.has(k)?s=[].concat(A(s),A(p)):s.push(p)}}if(o){var b={isMatch:!0,score:c/o};return i&&(b.indices=s),b}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(t,e){return e.useExtendedSearch}}]),n}(),at=[];function vt(n,t){for(var e=0,r=at.length;e<r;e+=1){var i=at[e];if(i.condition(n,t))return new i(n,t)}return new Ct(n,t)}var pt="$and",ce="$or",Nt="$path",ue="$val",yt=function(n){return!(!n[pt]&&!n[ce])},Pt=function(n){return rt({},pt,Object.keys(n).map(function(t){return rt({},t,n[t])}))};function he(n,t){var e=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).auto,r=e===void 0||e;return yt(n)||(n=Pt(n)),function i(o){var s=Object.keys(o),c=function(u){return!!u[Nt]}(o);if(!c&&s.length>1&&!yt(o))return i(Pt(o));if(function(u){return!R(u)&&wt(u)&&!yt(u)}(o)){var a=c?o[Nt]:s[0],h=c?o[ue]:o[a];if(!E(h))throw new Error(function(u){return"Invalid value for key ".concat(u)}(a));var l={keyId:ft(a),pattern:h};return r&&(l.searcher=vt(h,t)),l}var d={children:[],operator:s[0]};return s.forEach(function(u){var g=o[u];R(g)&&g.forEach(function(v){d.children.push(i(v))})}),d}(n)}function le(n,t){var e=n.matches;t.matches=[],j(e)&&e.forEach(function(r){if(j(r.indices)&&r.indices.length){var i={indices:r.indices,value:r.value};r.key&&(i.key=r.key.src),r.idx>-1&&(i.refIndex=r.idx),t.matches.push(i)}})}function fe(n,t){t.score=n.score}var it=function(){function n(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;S(this,n),this.options=B(B({},f),e),this.options.useExtendedSearch,this._keyStore=new Gt(this.options.keys),this.setCollection(t,r)}return _(n,[{key:"setCollection",value:function(t,e){if(this._docs=t,e&&!(e instanceof dt))throw new Error("Incorrect 'index' type");this._myIndex=e||$t(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(t){j(t)&&(this._docs.push(t),this._myIndex.add(t))}},{key:"remove",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},e=[],r=0,i=this._docs.length;r<i;r+=1){var o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,i-=1,e.push(o))}return e}},{key:"removeAt",value:function(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(t){var e=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).limit,r=e===void 0?-1:e,i=this.options,o=i.includeMatches,s=i.includeScore,c=i.shouldSort,a=i.sortFn,h=i.ignoreFieldNorm,l=E(t)?E(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(d,u){var g=u.ignoreFieldNorm,v=g===void 0?f.ignoreFieldNorm:g;d.forEach(function(m){var p=1;m.matches.forEach(function(M){var k=M.key,b=M.norm,x=M.score,y=k?k.weight:null;p*=Math.pow(x===0&&y?Number.EPSILON:x,(y||1)*(v?1:b))}),m.score=p})}(l,{ignoreFieldNorm:h}),c&&l.sort(a),Lt(r)&&r>-1&&(l=l.slice(0,r)),function(d,u){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=g.includeMatches,m=v===void 0?f.includeMatches:v,p=g.includeScore,M=p===void 0?f.includeScore:p,k=[];return m&&k.push(le),M&&k.push(fe),d.map(function(b){var x=b.idx,y={item:u[x],refIndex:x};return k.length&&k.forEach(function(L){L(b,y)}),y})}(l,this._docs,{includeMatches:o,includeScore:s})}},{key:"_searchStringList",value:function(t){var e=vt(t,this.options),r=this._myIndex.records,i=[];return r.forEach(function(o){var s=o.v,c=o.i,a=o.n;if(j(s)){var h=e.searchIn(s),l=h.isMatch,d=h.score,u=h.indices;l&&i.push({item:s,idx:c,matches:[{score:d,value:s,norm:a,indices:u}]})}}),i}},{key:"_searchLogical",value:function(t){var e=this,r=he(t,this.options),i=function a(h,l,d){if(!h.children){var u=h.keyId,g=h.searcher,v=e._findMatches({key:e._keyStore.get(u),value:e._myIndex.getValueForItemAtKeyId(l,u),searcher:g});return v&&v.length?[{idx:d,item:l,matches:v}]:[]}for(var m=[],p=0,M=h.children.length;p<M;p+=1){var k=a(h.children[p],l,d);if(k.length)m.push.apply(m,A(k));else if(h.operator===pt)return[]}return m},o=this._myIndex.records,s={},c=[];return o.forEach(function(a){var h=a.$,l=a.i;if(j(h)){var d=i(r,h,l);d.length&&(s[l]||(s[l]={idx:l,item:h,matches:[]},c.push(s[l])),d.forEach(function(u){var g,v=u.matches;(g=s[l].matches).push.apply(g,A(v))}))}}),c}},{key:"_searchObjectList",value:function(t){var e=this,r=vt(t,this.options),i=this._myIndex,o=i.keys,s=i.records,c=[];return s.forEach(function(a){var h=a.$,l=a.i;if(j(h)){var d=[];o.forEach(function(u,g){d.push.apply(d,A(e._findMatches({key:u,value:h[g],searcher:r})))}),d.length&&c.push({idx:l,item:h,matches:d})}}),c}},{key:"_findMatches",value:function(t){var e=t.key,r=t.value,i=t.searcher;if(!j(r))return[];var o=[];if(R(r))r.forEach(function(u){var g=u.v,v=u.i,m=u.n;if(j(g)){var p=i.searchIn(g),M=p.isMatch,k=p.score,b=p.indices;M&&o.push({score:k,key:e,value:g,idx:v,norm:m,indices:b})}});else{var s=r.v,c=r.n,a=i.searchIn(s),h=a.isMatch,l=a.score,d=a.indices;h&&o.push({score:l,key:e,value:s,norm:c,indices:d})}return o}}]),n}();return it.version="7.0.0",it.createIndex=$t,it.parseIndex=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.getFn,r=e===void 0?f.getFn:e,i=t.fieldNormWeight,o=i===void 0?f.fieldNormWeight:i,s=n.keys,c=n.records,a=new dt({getFn:r,fieldNormWeight:o});return a.setKeys(s),a.setIndexRecords(c),a},it.config=f,function(){at.push.apply(at,arguments)}(ae),it},typeof exports=="object"&&typeof module<"u"?module.exports=ht():typeof define=="function"&&define.amd?define(ht):(xt=typeof globalThis<"u"?globalThis:xt||self).Fuse=ht();const ge=Fuse,ve={keys:["title","content","tags"],includeMatches:!0};fetch("/fuse/data.json").then(D=>D.json()).then(D=>{const B=new ge(D,ve),nt=S=>{S.preventDefault();const ot=document.getElementById("searchBox").value,_=B.search(ot),rt=document.getElementById("searchContainer");let I=1,T="";_.forEach(H=>{let q=H.item.title,w=H.item.content,A=!1;H.matches.forEach(J=>{if(J.key==="title")for(const C of J.indices.reverse())q=`${q.slice(0,C[0])}<span style="color:chocolate;">${q.slice(C[0],C[1]+1)}</span>${q.slice(C[1]+1,q.length)}`;if(J.key==="content"){for(const C of J.indices.reverse())w=`${w.slice(0,C[0])}<span style="color:chocolate;">${w.slice(C[0],C[1]+1)}</span>${w.slice(C[1]+1,w.length)}`;A=!0}}),A?w=`<div class="px-4 break-all h-[100px] overflow-hidden text-ellipsis">${w}</div>`:w="",T+=`
<li class="w-full text-minor-link px-3 py-1" role="button"><a href="/post/${H.item.pathName.replace(".mdx","").toLowerCase()}" class="w-full">${I} - <span class="underline">${q}</span></a></li>${w}`,I++}),rt.innerHTML=T.trim()===""?"暂无内容":T};document.getElementById("searchForm").addEventListener("submit",nt)});const pe=void 0;export{pe as o};
